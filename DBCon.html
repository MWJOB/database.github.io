<!DOCTYPE html>
<html>
    <head>
        <title>DBcon</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>
    <body>
        <h1>SQL401:학생목록호출 결과창</h1>
        <p>
        /**<br>
 * @프로그램:DBon.java DB연결<br>
 * @author:학번:2016214378 이름:박민우<br>
 * @날짜: 2021.10.09<br>
 * 질의401:<br>
 * sql-401:<br>
 */<br>
package com.mycompany.sql401_web_1;<br>
<br>
import java.sql.Connection;<br>
import java.sql.DriverManager;<br>
import java.sql.PreparedStatement; <br>
import java.sql.ResultSet;<br>
import java.sql.SQLException;<br>
import java.sql.Statement;<br>
<br>
 public class DBCon {<br>
 Connection conn=null;<br>
 Statement stmt=null;<br>
 PreparedStatement pstmt=null;<br>
 ResultSet rs=null;<br>
 String user="c##min", passwd="5425"; //dalma Oracle 서버 id, pw<br>
 String Drv= "oracle.jdbc.OracleDriver";<br>
 String Url= "jdbc:oracle:thin:@localhost:1521:XE";<br>
 //String Drv = "com.mysql.cj.jdbc.Driver";<br>
 //String Url = "jdbc:mysql://localhost:3306/univ";<br>
 //String sql="select * from student";<br>
 <br>
 /**<br>
 * @param 없음. 반환값 Connection 객체<br>
 */<br>
 public Connection getCon(){<br>
 try {<br>
 Class.forName(Drv);<br>
 conn = DriverManager.getConnection(Url, user,passwd);<br>
 // stmt = conn.createStatement();<br>
 // rs = stmt.executeQuery(sql);<br>
 }catch(ClassNotFoundException ex){<br>
 System.out.println("CNF Err1:"+ex.getException());<br>
 }catch(SQLException ex){<br>
    System.out.println("SQL Err2:"+ex.getSQLState());<br>
 }<br>
 return conn;<br>
}<br>
 <br>
 public PreparedStatement getPstmt(String sql){<br>
 try {<br>
 Class.forName(Drv);<br>
 conn = DriverManager.getConnection(Url,user,passwd);<br>
 pstmt = conn.prepareStatement(sql);<br>
 //rs = stmt.executeQuery(sql);<br>
 }catch(ClassNotFoundException ex){<br>
 System.out.println("Err1:"+ex.getException());<br>
 }catch(SQLException ex){<br>
 System.out.println("Err2:"+ex.getErrorCode());<br>
 }<br>
 return pstmt;<br>
 }<br>
 <br>
 public ResultSet getRS(String sql){<br>
 try {<br>
 Class.forName(Drv);<br>
 conn = DriverManager.getConnection(Url,user,passwd);<br>
 stmt = conn.createStatement();<br>
 rs = stmt.executeQuery(sql);<br>
 }catch(ClassNotFoundException ex){<br>
 System.out.println("Err1: CNFE");<br>
 }catch(SQLException ex){<br>
 System.out.println("Err2:"+ex.getSQLState());<br>
 }<br>
 return rs;<br>
 }<br>
 }<br>
        </p>
    </body>
</html>
